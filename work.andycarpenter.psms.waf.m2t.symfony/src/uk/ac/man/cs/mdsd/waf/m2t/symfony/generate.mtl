[comment encoding = UTF-8 /]
[module generate(
	'http://andycarpenter.work/psm/Base',
	'http://andycarpenter.work/psm/WebApplicationFramework')]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::files/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::config::envDist/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::config::framework/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::config::frameworkDev/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::config::imagine/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::config::parameters/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::config::recaptcha/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::config::resetPassword/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::config::security/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::config::services/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::config::twig/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::config::vichUploader/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::controllers::api/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::controllers::page/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::extensions::extensions/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::formTypes::formType/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::javascript::generate/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::security::userModel/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::services::service/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::templates::base/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::templates::cards/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::templates::details/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::templates::gallery/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::templates::input/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::templates::navigation/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::templates::page/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::templates::security-forgottenPassword/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::templates::slider/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::templates::staticView/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::templates::tabular/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::translations::entity/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::translations::section/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::translations::navigation/]
[import uk::ac::man::cs::mdsd::waf::m2t::symfony::views::form::bootstrap/]


[template public symfony(model : WafModel)]
[model.siteProperties.configParameters()/]
[model.configFramework()/]
[model.configFrameworkDev()/]
[model.configServices()/]
[if (model.hasImageUnits)]
[model.configImagine()/]
[/if]
[model.configSecurity()/]
[if (model.isLocallyAuthenticated)]
	[if (model.localAuthentication.allowSelfRegistration and model.localAuthentication.useCaptcha)]
[model.localAuthentication.configRecaptcha()/]
[model.localAuthentication.configResetPassword()/]
	[/if]
[/if]
[model.configTwig()/]
[if (model.hasResourceFields)]
[model.configVichUploader()/]
[/if]
[model.business.services.service()/]

[model.formTypes()/]
[model.pages->select(p | p.units->notEmpty()).controller(model)/]

[if (model.hasAPI)]
[model.api.resources.controller(model)/]
[/if]

[model.navigation.navigation(model.siteProperties)/]
[model.siteProperties.generatePage()/]
[model.pages->select(p | p.hasNonSecurityUnits).page()/]
[model.pages.units.unitView()/]
[model.pages.units.unitExtraViews()/]
[model.formViews()/]

[model.entityTranslations()/]
[model.navigation.navigationTranslations()/]
[model.sectionsTranslations()/]


[if (model.isAuthenticated)]
[if (model.isLocallyAuthenticated)]
[let security : LocalAuthenticationSystem = model.localAuthentication]
[/let]
[elseif (model.isCasAuthenticated)]
[let security : CasAuthentication = model.casAuthentication]
[security.userModel()/]
[/let]
[/if]
[/if]

[model.javascript()/]

[model.extensions()/]
[/template]
