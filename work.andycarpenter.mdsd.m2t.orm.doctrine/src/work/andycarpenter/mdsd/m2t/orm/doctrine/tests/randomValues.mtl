[comment encoding = UTF-8 /]
[module randomValues(
	'http://andycarpenter.work/metamodel/base',
	'http://andycarpenter.work/metamodel/ObjectRelationalMapping')]
[import work::andycarpenter::mdsd::m2t::orm::doctrine::names/]


[template public randomSingletonValue(feature : Feature, faker : String) post(trim())]
[if (feature.isAssociationFeature)]
[let association : Association = feature.oclAsType(Association)]
new [association.opposite.partOf.modelClassName()/]()
[/let]
[else]
	[if (feature.isBooleanFeature)]
[faker/]->boolean()
	[elseif (feature.isDateFeature)]
[faker/]->dateTime()
	[elseif (feature.isEmailFeature)]
[faker/]->email()
	[elseif (feature.isEnumerationFeature)]
	[let type : EnumerationType = feature.dataType.oclAsType(EnumerationType)]
[faker/]->numberBetween(0, [type.enumerations->size() - 1/])
	[/let]
	[elseif (feature.isFloatFeature)]
[faker/]->randomFloat()
	[elseif (feature.isIntegerFeature)]
faker->randomNumber()
	[elseif (feature.isLocationFeature)]
	[elseif (feature.isResourceFeature)]
	[elseif (feature.isStringFeature)]
		[if (feature.name = 'name' or feature.name = 'username')]
[faker/]->word()
		[elseif (feature.name = 'title')]
[faker/]->sentence()
		[else]
[faker/]->text()
		[/if]
	[elseif (feature.isTextareaFeature)]
[faker/]->paragraph()
	[elseif (feature.isUrlFeature)]
[faker/]->url()
	[else]
[faker/]->paragraph()
	[/if]
[/if]
[/template]

